(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{OSpC:function(e,n,t){},QfWi:function(e,n,t){"use strict";t.r(n);t("OSpC");var r={apiKey:"5c34acfe39a6372a620da68979c929b1",defaultSearch:"https://api.themoviedb.org/3/search/movie",isPending:!1,genres:[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:35,name:"Comedy"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:10759,name:"Action & Adventure"},{id:16,name:"Animation"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:10762,name:"Kids"},{id:9648,name:"Mystery"},{id:10763,name:"News"},{id:10764,name:"Reality"},{id:10765,name:"Sci-Fi & Fantasy"},{id:10766,name:"Soap"},{id:10767,name:"Talk"},{id:10768,name:"War & Politics"},{id:37,name:"Western"}]},a=(t("Muwe"),t("y89P"),t("X5mX"),{home:document.querySelector(".link-home"),library:document.querySelector(".link-library"),header:document.querySelector(".header"),search:document.querySelector(".search-form"),bottom:document.querySelector(".bottom-header")});a.home.addEventListener("click",(function(e){e.preventDefault(),a.header.classList.replace("header-library","header-home"),a.search.classList.remove("visually-hidden"),a.bottom.classList.add("visually-hidden"),a.library.classList.remove("current"),a.home.classList.add("current")})),a.library.addEventListener("click",(function(e){e.preventDefault(),a.header.classList.replace("header-home","header-library"),a.bottom.classList.remove("visually-hidden"),a.search.classList.add("visually-hidden"),a.home.classList.remove("current"),a.library.classList.add("current")}));t("a6US");var o=t("dcBu");t("PzF0"),t("xi6a"),document.querySelector(".film-container");t("hi3g"),t("RtS0"),t("8cZI"),t("D/wG"),t("JBxO"),t("FdtR"),t("3dw1"),t("wcNg");var l=t("czhI"),i=t.n(l);function u(e,n,t,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void t(e)}i.done?n(u):Promise.resolve(u).then(r,a)}function s(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var o=e.apply(n,t);function l(e){u(o,r,a,l,i,"next",e)}function i(e){u(o,r,a,l,i,"throw",e)}l(void 0)}))}}var c={_page:1,searchQuery:"",keyApi:"5c34acfe39a6372a620da68979c929b1",baseURL:"",error:null,fetchMovies:function(){var e=this;return s(regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.error=null,e.searchQuery?e.baseURL="https://api.themoviedb.org/3/search/movie?api_key="+e.keyApi+"&language=en-US&query="+e.searchQuery+"&page="+e.page+"&include_adult=false":e.baseURL="https://api.themoviedb.org/3/trending/all/day?api_key="+e.keyApi+"&page="+e.page,n.prev=2,n.next=5,i.a.get(e.baseURL);case 5:return t=n.sent,n.next=8,t.data;case 8:return t=n.sent,e.error=null,n.abrupt("return",t);case 13:n.prev=13,n.t0=n.catch(2),console.log(n.t0.message),e.error="could not fetch data";case 17:case"end":return n.stop()}}),n,null,[[2,13]])})))()},resetPage:function(){this._page=1},incrementPage:function(){this._page+=1},get page(){return this._page},set page(e){this._page=e},get query(){return this.searchQuery},set query(e){this.searchQuery=e},getMoviesData:function(){var e=this;return s(regeneratorRuntime.mark((function n(){var t,a,o,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=[],a=[],o=null,l=null,n.next=6,e.fetchMovies().then((function(e){o=e.total_pages,l=e.total_results,t=[].concat(e.results);var n="";t.forEach((function(e){var t={};t.id=e.id,t.popularity=e.popularity,t.poster_path=e.poster_path,t.title=e.title?e.title:e.name,t.original_title=e.original_title?e.original_title:e.original_name,t.release_date=e.release_date?e.release_date.substr(0,4):e.first_air_date.substr(0,4),n="";var o=[];[].concat(e.genre_ids).forEach((function(e){r.genres.forEach((function(n){e===n.id&&o.push(n.name)}))})),n=o.join(", "),t.genre_ids=n,t.overview=e.overview,t.vote_average=e.vote_average,t.vote_count=e.vote_count,a.push(t)})),a.push({totalPages:o,totalResults:l})})).catch((function(e){return console.log(e)}));case 6:return n.abrupt("return",a);case 7:case"end":return n.stop()}}),n)})))()}},m=document.querySelector("button[data-open-modal]"),d=document.querySelector("#modal"),p=o.create(d,{onShow:function(e){e.element().querySelector("button[data-close-modal]").onclick=e.close}});m.addEventListener("click",p.show);t("WB5j");var h=t("ZsUU"),f=t.n(h),v=t("KzXF"),g=t.n(v),y=t("2c84"),_=t.n(y),b=(t("lUE2"),document.querySelector(".js-ul-film")),w=document.querySelector("body"),P={name:null,updateScreenName:function(){var e=w.clientWidth;if(e<768){if("telephone"!==this.name)return this.name="telephone",!0}else if(e<1024){if("tablet"!==this.name)return this.name="tablet",!0}else if("monitor"!==this.name)return this.name="monitor",!0}};P.updateScreenName();var k=new _.a("tui-pagination-container",{totalItems:1,itemsPerPage:4,visiblePages:5,page:1,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child"});function x(){switch(P.name){case"telephone":k.setItemsPerPage(4);break;case"tablet":k.setItemsPerPage(8);break;case"monitor":k.setItemsPerPage(9)}c.getMoviesData().then((function(e){k.setTotalItems(e[20].totalResults),k.reset(),e.length=k._options.itemsPerPage;var n=f()(e,g.a);b.innerHTML="",b.insertAdjacentHTML("beforeend",n)}))}g.a.registerHelper("upper",(function(e){return void 0===e?"":e.toUpperCase()})),x(),k.on("afterMove",(function(e){var n=k._options.itemsPerPage,t=(k._options.totalItems,1);if("telephone"===P.name){t=parseInt(4*(e.page-1)%20);var r=parseInt((e.page*n-n+1)/20+1);c.page=r}c.getMoviesData().then((function(e){var r=e.slice(t,t+n),a=f()(r,g.a);b.innerHTML="",b.insertAdjacentHTML("beforeend",a)}))})),function(e,n,t){t=t||window;var r=!1;t.addEventListener(e,(function(){r||(r=!0,requestAnimationFrame((function(){t.dispatchEvent(new CustomEvent(n)),r=!1})))}))}("resize","optimizedResize"),window.addEventListener("optimizedResize",(function(e){P.updateScreenName()&&x()}));var S=t("SzhR");t("ELjB"),t("VwVG");S.a.initializeApp({apiKey:"AIzaSyD6eXNVcauYQiyhDBlDO-gbW-doDG3JSVk",authDomain:"hush-filmoteka-app.firebaseapp.com",projectId:"hush-filmoteka-app",storageBucket:"hush-filmoteka-app.appspot.com",messagingSenderId:"954269235587",appId:"1:954269235587:web:b05242e3c9027f09b61eb6"});S.a.firestore();var R=S.a.auth();S.a.firestore.FieldValue.serverTimestamp;function L(e,n,t,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void t(e)}i.done?n(u):Promise.resolve(u).then(r,a)}var E=null,q=function(){var e,n=(e=regeneratorRuntime.mark((function e(n,t,r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E=null,e.prev=1,e.next=4,R.createUserWithEmailAndPassword(n,t);case 4:if(a=e.sent){e.next=7;break}throw new Error("Could not complete the signup");case 7:return e.next=9,a.user.updateProfile({displayName:r});case 9:return E=null,e.abrupt("return",a);case 13:return e.prev=13,e.t0=e.catch(1),E=e.t0.message,e.abrupt("return",E);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})),function(){var n=this,t=arguments;return new Promise((function(r,a){var o=e.apply(n,t);function l(e){L(o,r,a,l,i,"next",e)}function i(e){L(o,r,a,l,i,"throw",e)}l(void 0)}))});return function(e,t,r){return n.apply(this,arguments)}}();function D(e,n,t,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void t(e)}i.done?n(u):Promise.resolve(u).then(r,a)}function I(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var o=e.apply(n,t);function l(e){D(o,r,a,l,i,"next",e)}function i(e){D(o,r,a,l,i,"throw",e)}l(void 0)}))}}var T=function(){return{error:E,signup:q}}(),A=(T.error,T.signup),C=(T.isPending,document.querySelector("#signup-form")),M=document.querySelector(".error-signup");document.querySelector("#signup-btn");function U(){return(U=I(regeneratorRuntime.mark((function e(n){var t,r,a,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),t=n.currentTarget,r=C["signup-email"].value,a=C["signup-password"].value,o=C["signup-displayName"].value,console.log(r,a,o),e.next=8,A(r,a,o);case 8:l=e.sent,t.reset(),l.user||(M.textContent=l);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,n,t,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void t(e)}i.done?n(u):Promise.resolve(u).then(r,a)}C.addEventListener("submit",(function(e){return U.apply(this,arguments)}));var j=null,z=function(){var e,n=(e=regeneratorRuntime.mark((function e(n,t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j=null,e.prev=1,e.next=4,R.signInWithEmailAndPassword(n,t);case 4:return r=e.sent,j=null,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(1),j=e.t0.message,console.log(e.t0.message),e.abrupt("return",j);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})),function(){var n=this,t=arguments;return new Promise((function(r,a){var o=e.apply(n,t);function l(e){O(o,r,a,l,i,"next",e)}function i(e){O(o,r,a,l,i,"throw",e)}l(void 0)}))});return function(e,t){return n.apply(this,arguments)}}();function W(e,n,t,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void t(e)}i.done?n(u):Promise.resolve(u).then(r,a)}function F(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var o=e.apply(n,t);function l(e){W(o,r,a,l,i,"next",e)}function i(e){W(o,r,a,l,i,"throw",e)}l(void 0)}))}}var N=function(){return{error:j,login:z}}(),B=(N.error,N.login),Q=(N.isPending,document.querySelector("#login-form")),V=document.querySelector(".error-login");document.querySelector("#login-btn");function H(){return(H=F(regeneratorRuntime.mark((function e(n){var t,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),t=n.currentTarget,r=Q["login-email"].value,a=Q["login-password"].value,e.next=6,B(r,a);case 6:o=e.sent,t.reset(),o.user||(V.textContent=o);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e,n,t,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void t(e)}i.done?n(u):Promise.resolve(u).then(r,a)}Q.addEventListener("submit",(function(e){return H.apply(this,arguments)}));var J=null,K=!1,X=function(){var e,n=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return J=null,K=!0,e.prev=2,e.next=5,R.signOut();case 5:K=!1,e.next=13;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0.message),J=e.t0.message,K=!1;case 13:case"end":return e.stop()}}),e,null,[[2,8]])})),function(){var n=this,t=arguments;return new Promise((function(r,a){var o=e.apply(n,t);function l(e){G(o,r,a,l,i,"next",e)}function i(e){G(o,r,a,l,i,"throw",e)}l(void 0)}))});return function(){return n.apply(this,arguments)}}();function Z(e,n,t,r,a,o,l){try{var i=e[o](l),u=i.value}catch(e){return void t(e)}i.done?n(u):Promise.resolve(u).then(r,a)}function Y(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var o=e.apply(n,t);function l(e){Z(o,r,a,l,i,"next",e)}function i(e){Z(o,r,a,l,i,"throw",e)}l(void 0)}))}}var $=function(){return{error:J,logout:X,isPending:K}}(),ee=($.error,$.logout);$.isPending;function ne(){return(ne=Y(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,ee();case 3:console.log("user logged out");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}document.querySelector("#logout").addEventListener("click",(function(e){return ne.apply(this,arguments)}));R.currentUser;R.onAuthStateChanged((function(e){console.log("User sate change. Current user is:",e),e}))},ZsUU:function(e,n,t){var r=t("mp5j");e.exports=(r.default||r).template({1:function(e,n,t,r,a){var o,l=null!=n?n:e.nullContext||{},i=e.hooks.helperMissing,u="function",s=e.escapeExpression,c=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<li class="film-list-li">\r\n    <a href="#" class="movie-link" data-id="'+s(typeof(o=null!=(o=c(t,"id")||(null!=n?c(n,"id"):n))?o:i)===u?o.call(l,{name:"id",hash:{},data:a,loc:{start:{line:3,column:44},end:{line:3,column:50}}}):o)+'">\r\n        <div class="film-list-block-img">\r\n            <img class="film-list-img" src="https://image.tmdb.org/t/p/w300/'+s(typeof(o=null!=(o=c(t,"poster_path")||(null!=n?c(n,"poster_path"):n))?o:i)===u?o.call(l,{name:"poster_path",hash:{},data:a,loc:{start:{line:5,column:76},end:{line:5,column:91}}}):o)+'" alt="'+s(typeof(o=null!=(o=c(t,"name")||(null!=n?c(n,"name"):n))?o:i)===u?o.call(l,{name:"name",hash:{},data:a,loc:{start:{line:5,column:98},end:{line:5,column:106}}}):o)+s(typeof(o=null!=(o=c(t,"title")||(null!=n?c(n,"title"):n))?o:i)===u?o.call(l,{name:"title",hash:{},data:a,loc:{start:{line:5,column:106},end:{line:5,column:115}}}):o)+' ">\r\n        </div>\r\n        <div class="film-list-movie-description">\r\n            <h3 class="film-list-movie-title">'+s((c(t,"upper")||n&&c(n,"upper")||i).call(l,null!=n?c(n,"title"):n,{name:"upper",hash:{},data:a,loc:{start:{line:8,column:46},end:{line:8,column:61}}}))+s((c(t,"upper")||n&&c(n,"upper")||i).call(l,null!=n?c(n,"name"):n,{name:"upper",hash:{},data:a,loc:{start:{line:8,column:61},end:{line:8,column:75}}}))+'</h3>\r\n            <p class="film-list-movie-genre">'+s(typeof(o=null!=(o=c(t,"genre_ids")||(null!=n?c(n,"genre_ids"):n))?o:i)===u?o.call(l,{name:"genre_ids",hash:{},data:a,loc:{start:{line:9,column:45},end:{line:9,column:58}}}):o)+" | "+s(typeof(o=null!=(o=c(t,"release_date")||(null!=n?c(n,"release_date"):n))?o:i)===u?o.call(l,{name:"release_date",hash:{},data:a,loc:{start:{line:9,column:61},end:{line:9,column:77}}}):o)+"</p>\r\n        </div>\r\n        \r\n    </a>\r\n</li>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,n,t,r,a){var o;return null!=(o=(e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]})(t,"each").call(null!=n?n:e.nullContext||{},n,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:14,column:9}}}))?o:""},useData:!0})},a6US:function(e,n){var t=document.getElementById("scrollToTopButton");window.onscroll=function(){document.body.scrollTop>0||document.documentElement.scrollTop>0?t.style.display="block":t.style.display="none"},t.addEventListener("click",(function(){document.body.scrollTop=0,document.documentElement.scrollTop=0}))},xi6a:function(e,n,t){var r=t("mp5j");e.exports=(r.default||r).template({1:function(e,n,t,r,a){var o,l=null!=n?n:e.nullContext||{},i=e.hooks.helperMissing,u="function",s=e.escapeExpression,c=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<div class="modal-section__thumb">\r\n    <img class="modal-section__image" src="https://image.tmdb.org/t/p/w300'+s(typeof(o=null!=(o=c(t,"poster_path")||(null!=n?c(n,"poster_path"):n))?o:i)===u?o.call(l,{name:"poster_path",hash:{},data:a,loc:{start:{line:13,column:74},end:{line:13,column:89}}}):o)+'"\r\n        alt="'+s(typeof(o=null!=(o=c(t,"title")||(null!=n?c(n,"title"):n))?o:i)===u?o.call(l,{name:"title",hash:{},data:a,loc:{start:{line:14,column:13},end:{line:14,column:22}}}):o)+s(typeof(o=null!=(o=c(t,"name")||(null!=n?c(n,"name"):n))?o:i)===u?o.call(l,{name:"name",hash:{},data:a,loc:{start:{line:14,column:22},end:{line:14,column:30}}}):o)+' poster" />\r\n</div>\r\n<div class="modal-section__meta">\r\n    <h2 class="modal-meta__title">'+s(typeof(o=null!=(o=c(t,"title")||(null!=n?c(n,"title"):n))?o:i)===u?o.call(l,{name:"title",hash:{},data:a,loc:{start:{line:17,column:34},end:{line:17,column:43}}}):o)+s(typeof(o=null!=(o=c(t,"name")||(null!=n?c(n,"name"):n))?o:i)===u?o.call(l,{name:"name",hash:{},data:a,loc:{start:{line:17,column:43},end:{line:17,column:51}}}):o)+'</h2>\r\n    <div class="modal-meta__info">\r\n        <ul class="modal-info__list">\r\n            <li>Vote / Votes</li>\r\n            <li>Popularity</li>\r\n            <li>Original Title</li>\r\n            <li>Genre</li>\r\n        </ul>\r\n        <ul class="modal-info__list">\r\n            <li><span>'+s(typeof(o=null!=(o=c(t,"vote_average")||(null!=n?c(n,"vote_average"):n))?o:i)===u?o.call(l,{name:"vote_average",hash:{},data:a,loc:{start:{line:26,column:22},end:{line:26,column:38}}}):o)+"</span>/<span>"+s(typeof(o=null!=(o=c(t,"vote_count")||(null!=n?c(n,"vote_count"):n))?o:i)===u?o.call(l,{name:"vote_count",hash:{},data:a,loc:{start:{line:26,column:52},end:{line:26,column:66}}}):o)+"</span></li>\r\n            <li>"+s(typeof(o=null!=(o=c(t,"popularity")||(null!=n?c(n,"popularity"):n))?o:i)===u?o.call(l,{name:"popularity",hash:{},data:a,loc:{start:{line:27,column:16},end:{line:27,column:30}}}):o)+"</li>\r\n            <li>"+s(typeof(o=null!=(o=c(t,"original_title")||(null!=n?c(n,"original_title"):n))?o:i)===u?o.call(l,{name:"original_title",hash:{},data:a,loc:{start:{line:28,column:16},end:{line:28,column:34}}}):o)+s(typeof(o=null!=(o=c(t,"original_name")||(null!=n?c(n,"original_name"):n))?o:i)===u?o.call(l,{name:"original_name",hash:{},data:a,loc:{start:{line:28,column:34},end:{line:28,column:51}}}):o)+"</li>\r\n            <li>"+s(typeof(o=null!=(o=c(t,"genre_ids")||(null!=n?c(n,"genre_ids"):n))?o:i)===u?o.call(l,{name:"genre_ids",hash:{},data:a,loc:{start:{line:29,column:16},end:{line:29,column:29}}}):o)+'</li>\r\n        </ul>\r\n    </div>\r\n    <h3 class="modal-meta__title description">About</h3>\r\n    <p class="modal-meta__text">'+s(typeof(o=null!=(o=c(t,"overview")||(null!=n?c(n,"overview"):n))?o:i)===u?o.call(l,{name:"overview",hash:{},data:a,loc:{start:{line:33,column:32},end:{line:33,column:44}}}):o)+'</p>\r\n    <div class="modal-meta__btn-wrap">\r\n        <button type="button">add to Watched</button>\r\n        <button type="button">add to queue</button>\r\n    </div>\r\n</div>\r\n'},compiler:[8,">= 4.3.0"],main:function(e,n,t,r,a){var o;return null!=(o=(e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]})(t,"each").call(null!=n?n:e.nullContext||{},n,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:39,column:9}}}))?o:""},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.af55ed0d1f522ca58aa1.js.map