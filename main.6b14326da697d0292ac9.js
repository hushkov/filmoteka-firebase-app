(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{OSpC:function(e,n,t){},QfWi:function(e,n,t){"use strict";t.r(n);t("OSpC");var a={apiKey:"5c34acfe39a6372a620da68979c929b1",defaultSearch:"https://api.themoviedb.org/3/search/movie",isPending:!1,currentMoviesList:[],genres:[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:35,name:"Comedy"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:10759,name:"Action & Adventure"},{id:16,name:"Animation"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:10762,name:"Kids"},{id:9648,name:"Mystery"},{id:10763,name:"News"},{id:10764,name:"Reality"},{id:10765,name:"Sci-Fi & Fantasy"},{id:10766,name:"Soap"},{id:10767,name:"Talk"},{id:10768,name:"War & Politics"},{id:37,name:"Western"}]},l=(t("Muwe"),t("y89P"),t("X5mX"),{home:document.querySelector(".link-home"),library:document.querySelector(".link-library"),header:document.querySelector(".header"),search:document.querySelector(".search-form"),bottom:document.querySelector(".bottom-header")});l.home.addEventListener("click",(function(e){e.preventDefault(),l.header.classList.replace("header-library","header-home"),l.search.classList.remove("visually-hidden"),l.bottom.classList.add("visually-hidden"),l.library.classList.remove("current"),l.home.classList.add("current")})),l.library.addEventListener("click",(function(e){e.preventDefault(),l.header.classList.replace("header-home","header-library"),l.bottom.classList.remove("visually-hidden"),l.search.classList.add("visually-hidden"),l.home.classList.remove("current"),l.library.classList.add("current")}));t("a6US"),t("WB5j"),t("hi3g"),t("RtS0"),t("8cZI"),t("D/wG"),t("JBxO"),t("FdtR"),t("3dw1"),t("wcNg");var i=t("czhI"),r=t.n(i);function o(e,n,t,a,l,i,r){try{var o=e[i](r),s=o.value}catch(e){return void t(e)}o.done?n(s):Promise.resolve(s).then(a,l)}function s(e){return function(){var n=this,t=arguments;return new Promise((function(a,l){var i=e.apply(n,t);function r(e){o(i,a,l,r,s,"next",e)}function s(e){o(i,a,l,r,s,"throw",e)}r(void 0)}))}}var c={_page:1,searchQuery:"",keyApi:"5c34acfe39a6372a620da68979c929b1",baseURL:"",error:null,fetchMovies:function(){var e=this;return s(regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.error=null,e.searchQuery?e.baseURL="https://api.themoviedb.org/3/search/movie?api_key="+e.keyApi+"&language=en-US&query="+e.searchQuery+"&page="+e.page+"&include_adult=false":e.baseURL="https://api.themoviedb.org/3/trending/all/day?api_key="+e.keyApi+"&page="+e.page,n.prev=2,n.next=5,r.a.get(e.baseURL);case 5:return t=n.sent,n.next=8,t.data;case 8:return t=n.sent,e.error=null,n.abrupt("return",t);case 13:n.prev=13,n.t0=n.catch(2),console.log(n.t0.message),e.error="could not fetch data";case 17:case"end":return n.stop()}}),n,null,[[2,13]])})))()},resetPage:function(){this._page=1},incrementPage:function(){this._page+=1},get page(){return this._page},set page(e){this._page=e},get query(){return this.searchQuery},set query(e){this.searchQuery=e},getMoviesData:function(){var e=this;return s(regeneratorRuntime.mark((function n(){var t,l,i,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=[],l=[],i=null,r=null,n.next=6,e.fetchMovies().then((function(e){i=e.total_pages,r=e.total_results,t=[].concat(e.results);var n="";t.forEach((function(e){var t={};t.id=e.id,t.popularity=e.popularity,t.poster_path=e.poster_path,t.title=e.title?e.title:e.name,t.original_title=e.original_title?e.original_title:e.original_name,(e.release_date||e.first_air_date)&&(t.release_date=e.release_date?e.release_date.substr(0,4):e.first_air_date.substr(0,4)),n="";var i=[];[].concat(e.genre_ids).forEach((function(e){a.genres.forEach((function(n){e===n.id&&i.push(n.name)}))})),n=i.join(", "),t.genre_ids=n,t.overview=e.overview,t.vote_average=e.vote_average,t.vote_count=e.vote_count,l.push(t)})),i&&l.push({totalPages:i,totalResults:r})})).catch((function(e){return console.log(e)}));case 6:return n.abrupt("return",l);case 7:case"end":return n.stop()}}),n)})))()}},u=t("ZQ/G"),m=t.n(u),d={mainSectionFilm:document.querySelector(".js-section-film"),sectionLib:document.querySelector(".my-library"),homeBtn:document.querySelector(".link-home"),myLibraryBtn:document.querySelector(".link-library"),libraryList:document.querySelector(".my-library__list")};d.myLibraryBtn.addEventListener("click",(function(e){e.preventDefault(),d.mainSectionFilm.classList.add("hidden"),d.sectionLib.classList.remove("hidden"),c.getMoviesData().then((function(e){var n=m()(e.slice(0,3));d.libraryList.innerHTML="",d.libraryList.insertAdjacentHTML("beforeend",n)}))})),d.homeBtn.addEventListener("click",(function(e){d.sectionLib.classList.add("hidden"),d.mainSectionFilm.classList.remove("hidden")}));t("/YXa"),t("WoWj"),t("U00V");var p=t("ZsUU"),h=t.n(p),f=t("KzXF"),v=t.n(f),y=t("2c84"),g=t.n(y);t("lUE2");function _(e,n,t,a,l,i,r){try{var o=e[i](r),s=o.value}catch(e){return void t(e)}o.done?n(s):Promise.resolve(s).then(a,l)}var b=document.querySelector(".js-ul-film"),L=document.querySelector("body"),w={name:null,updateScreenName:function(){var e=L.clientWidth;if(e<768){if("telephone"!==this.name)return this.name="telephone",!0}else if(e<1024){if("tablet"!==this.name)return this.name="tablet",!0}else if("monitor"!==this.name)return this.name="monitor",!0}};w.updateScreenName();var k=new g.a("tui-pagination-container",{totalItems:1,itemsPerPage:4,visiblePages:5,page:1,firstItemClassName:"tui-first-child",lastItemClassName:"tui-last-child",template:{page:'<a href="#" class="tui-page-btn">{{page}}</a>',currentPage:'<strong class="tui-page-btn tui-is-selected">{{page}}</strong>',moveButton:'<a href="#" class="tui-page-btn tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></a>',disabledMoveButton:'<span class="tui-page-btn tui-is-disabled tui-{{type}}"><span class="tui-ico-{{type}}">{{type}}</span></span>',moreButton:'<a href="#" class="tui-page-btn tui-{{type}}-is-ellip"><span class="tui-ico-ellip">...</span></a>'}});function S(){switch(!0,w.name){case"telephone":k.setItemsPerPage(4);break;case"tablet":k.setItemsPerPage(8);break;case"monitor":k.setItemsPerPage(9)}c.getMoviesData().then((function(e){a.currentMoviesList=[].concat(e),k.setTotalItems(e[20].totalResults),k.reset(),e.length=k._options.itemsPerPage;var n=h()(e,v.a);b.innerHTML="",b.insertAdjacentHTML("beforeend",n)}))}function P(e,n,t){var l=parseInt((t.page*n-n+1)/20+1);c.page=l;var i=c.getMoviesData();c.page=l+1;var r=c.getMoviesData();Promise.all([i,r]).then((function(t){t[0].length=20,t[1].length=20;var l=[].concat(t[0],t[1]).slice(e,e+n);a.currentMoviesList=[].concat(l);var i=h()(l,v.a);b.innerHTML="",b.insertAdjacentHTML("beforeend",i)}))}v.a.registerHelper("upper",(function(e){return void 0===e?"":e.toUpperCase()})),k.on("afterMove",function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var t,a,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=k._options.itemsPerPage,k._options.totalItems,a=1,"telephone"===w.name?(a=parseInt(4*(n.page-1)%20),l=parseInt((n.page*t-t+1)/20+1),c.page=l,c.getMoviesData().then((function(e){var n=e.slice(a,a+t),l=h()(n,v.a);b.innerHTML="",b.insertAdjacentHTML("beforeend",l)}))):"tablet"===w.name?P(a=parseInt(8*(n.page-1)%20),t,n):"monitor"===w.name&&P(a=parseInt(9*(n.page-1)%20),t,n);case 4:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(a,l){var i=e.apply(n,t);function r(e){_(i,a,l,r,o,"next",e)}function o(e){_(i,a,l,r,o,"throw",e)}r(void 0)}))});return function(e){return n.apply(this,arguments)}}()),function(e,n,t){t=t||window;var a=!1;t.addEventListener(e,(function(){a||(a=!0,requestAnimationFrame((function(){t.dispatchEvent(new CustomEvent(n)),a=!1})))}))}("resize","optimizedResize"),window.addEventListener("optimizedResize",(function(e){w.updateScreenName()&&S()}));var M=t("dcBu");t("PzF0"),t("xi6a"),document.querySelector(".film-container");var q=document.querySelector("button[data-open-modal]"),x=document.querySelector("#modal"),E=M.create(x,{onShow:function(e){e.element().querySelector("button[data-close-modal]").onclick=e.close}});q.addEventListener("click",E.show);t("nGqK");var D=t("SzhR");t("ELjB"),t("VwVG");D.a.initializeApp({apiKey:"AIzaSyD6eXNVcauYQiyhDBlDO-gbW-doDG3JSVk",authDomain:"hush-filmoteka-app.firebaseapp.com",projectId:"hush-filmoteka-app",storageBucket:"hush-filmoteka-app.appspot.com",messagingSenderId:"954269235587",appId:"1:954269235587:web:b05242e3c9027f09b61eb6"});D.a.firestore(),D.a.auth(),D.a.firestore.FieldValue.serverTimestamp;S()},"ZQ/G":function(e,n,t){var a=t("mp5j");e.exports=(a.default||a).template({1:function(e,n,t,a,l){var i,r=null!=n?n:e.nullContext||{},o=e.hooks.helperMissing,s="function",c=e.escapeExpression,u=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<li class="my-library__item" data-id="'+c(typeof(i=null!=(i=u(t,"id")||(null!=n?u(n,"id"):n))?i:o)===s?i.call(r,{name:"id",hash:{},data:l,loc:{start:{line:2,column:38},end:{line:2,column:44}}}):i)+'">\r\n    <img class="my-library__movie-poster" src="https://image.tmdb.org/t/p/w500'+c(e.lambda(null!=n?u(n,"poster_path"):n,n))+'" alt="">\r\n    <p class="my-library__movie-title">'+c(typeof(i=null!=(i=u(t,"title")||(null!=n?u(n,"title"):n))?i:o)===s?i.call(r,{name:"title",hash:{},data:l,loc:{start:{line:4,column:39},end:{line:4,column:48}}}):i)+" "+c(typeof(i=null!=(i=u(t,"name")||(null!=n?u(n,"name"):n))?i:o)===s?i.call(r,{name:"name",hash:{},data:l,loc:{start:{line:4,column:49},end:{line:4,column:57}}}):i)+'</br>\r\n        <span class="my-library__movie-info">'+c(typeof(i=null!=(i=u(t,"genre_ids")||(null!=n?u(n,"genre_ids"):n))?i:o)===s?i.call(r,{name:"genre_ids",hash:{},data:l,loc:{start:{line:5,column:45},end:{line:5,column:58}}}):i)+" | "+c(typeof(i=null!=(i=u(t,"first_air_date")||(null!=n?u(n,"first_air_date"):n))?i:o)===s?i.call(r,{name:"first_air_date",hash:{},data:l,loc:{start:{line:5,column:61},end:{line:5,column:79}}}):i)+" "+c(typeof(i=null!=(i=u(t,"release_date")||(null!=n?u(n,"release_date"):n))?i:o)===s?i.call(r,{name:"release_date",hash:{},data:l,loc:{start:{line:5,column:80},end:{line:5,column:96}}}):i)+'</span>\r\n        <span class="my-library__movie-rate">'+c(typeof(i=null!=(i=u(t,"vote_average")||(null!=n?u(n,"vote_average"):n))?i:o)===s?i.call(r,{name:"vote_average",hash:{},data:l,loc:{start:{line:6,column:45},end:{line:6,column:61}}}):i)+"</span>\r\n    </p>\r\n</li>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,n,t,a,l){var i;return null!=(i=(e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]})(t,"each").call(null!=n?n:e.nullContext||{},n,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:1,column:0},end:{line:9,column:9}}}))?i:""},useData:!0})},ZsUU:function(e,n,t){var a=t("mp5j");e.exports=(a.default||a).template({1:function(e,n,t,a,l){var i,r=null!=n?n:e.nullContext||{},o=e.hooks.helperMissing,s="function",c=e.escapeExpression,u=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<li class="film-list-li">\r\n    <a href="#" class="movie-link" data-id="'+c(typeof(i=null!=(i=u(t,"id")||(null!=n?u(n,"id"):n))?i:o)===s?i.call(r,{name:"id",hash:{},data:l,loc:{start:{line:3,column:44},end:{line:3,column:50}}}):i)+'">\r\n        <div class="film-list-block-img" data-id="'+c(typeof(i=null!=(i=u(t,"id")||(null!=n?u(n,"id"):n))?i:o)===s?i.call(r,{name:"id",hash:{},data:l,loc:{start:{line:4,column:50},end:{line:4,column:56}}}):i)+'">\r\n            <img class="film-list-img" src="https://image.tmdb.org/t/p/w300/'+c(typeof(i=null!=(i=u(t,"poster_path")||(null!=n?u(n,"poster_path"):n))?i:o)===s?i.call(r,{name:"poster_path",hash:{},data:l,loc:{start:{line:5,column:76},end:{line:5,column:91}}}):i)+'" alt="'+c(typeof(i=null!=(i=u(t,"name")||(null!=n?u(n,"name"):n))?i:o)===s?i.call(r,{name:"name",hash:{},data:l,loc:{start:{line:5,column:98},end:{line:5,column:106}}}):i)+c(typeof(i=null!=(i=u(t,"title")||(null!=n?u(n,"title"):n))?i:o)===s?i.call(r,{name:"title",hash:{},data:l,loc:{start:{line:5,column:106},end:{line:5,column:115}}}):i)+'" data-id="'+c(typeof(i=null!=(i=u(t,"id")||(null!=n?u(n,"id"):n))?i:o)===s?i.call(r,{name:"id",hash:{},data:l,loc:{start:{line:5,column:126},end:{line:5,column:132}}}):i)+'">\r\n        </div>\r\n        <div class="film-list-movie-description" data-id="'+c(typeof(i=null!=(i=u(t,"id")||(null!=n?u(n,"id"):n))?i:o)===s?i.call(r,{name:"id",hash:{},data:l,loc:{start:{line:7,column:58},end:{line:7,column:64}}}):i)+'">\r\n            <h3 class="film-list-movie-title" data-id="'+c(typeof(i=null!=(i=u(t,"id")||(null!=n?u(n,"id"):n))?i:o)===s?i.call(r,{name:"id",hash:{},data:l,loc:{start:{line:8,column:55},end:{line:8,column:61}}}):i)+'">'+c((u(t,"upper")||n&&u(n,"upper")||o).call(r,null!=n?u(n,"title"):n,{name:"upper",hash:{},data:l,loc:{start:{line:8,column:63},end:{line:8,column:78}}}))+c((u(t,"upper")||n&&u(n,"upper")||o).call(r,null!=n?u(n,"name"):n,{name:"upper",hash:{},data:l,loc:{start:{line:8,column:78},end:{line:8,column:92}}}))+' </h3>\r\n            <p class="film-list-movie-genre" data-id="'+c(typeof(i=null!=(i=u(t,"id")||(null!=n?u(n,"id"):n))?i:o)===s?i.call(r,{name:"id",hash:{},data:l,loc:{start:{line:9,column:54},end:{line:9,column:60}}}):i)+'">'+c(typeof(i=null!=(i=u(t,"genre_ids")||(null!=n?u(n,"genre_ids"):n))?i:o)===s?i.call(r,{name:"genre_ids",hash:{},data:l,loc:{start:{line:9,column:62},end:{line:9,column:75}}}):i)+" | "+c(typeof(i=null!=(i=u(t,"release_date")||(null!=n?u(n,"release_date"):n))?i:o)===s?i.call(r,{name:"release_date",hash:{},data:l,loc:{start:{line:9,column:78},end:{line:9,column:94}}}):i)+" </p>\r\n        </div>\r\n        \r\n    </a>\r\n</li>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,n,t,a,l){var i;return null!=(i=(e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]})(t,"each").call(null!=n?n:e.nullContext||{},n,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:1,column:0},end:{line:14,column:9}}}))?i:""},useData:!0})},a6US:function(e,n){var t=document.getElementById("scroll-to-top-button");window.onscroll=function(){document.body.scrollTop>0||document.documentElement.scrollTop>0?t.style.display="block":t.style.display="none"},t.addEventListener("click",(function(e){e.preventDefault(),document.body.scrollTop=0,document.documentElement.scrollTop=0}))},nGqK:function(e,n){var t=document.querySelector(".modal"),a=document.querySelector(".footer-modal-link"),l=document.querySelector(".modal-button");a.addEventListener("click",(function(e){e.preventDefault(),t.classList.add("is-open")})),l.addEventListener("click",(function(e){t.classList.remove("is-open")}))},xi6a:function(e,n,t){var a=t("mp5j");e.exports=(a.default||a).template({1:function(e,n,t,a,l){var i,r=null!=n?n:e.nullContext||{},o=e.hooks.helperMissing,s="function",c=e.escapeExpression,u=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<div class="modal-section__thumb">\r\n    <img class="modal-section__image" src="https://image.tmdb.org/t/p/w300'+c(typeof(i=null!=(i=u(t,"poster_path")||(null!=n?u(n,"poster_path"):n))?i:o)===s?i.call(r,{name:"poster_path",hash:{},data:l,loc:{start:{line:13,column:74},end:{line:13,column:89}}}):i)+'"\r\n        alt="'+c(typeof(i=null!=(i=u(t,"title")||(null!=n?u(n,"title"):n))?i:o)===s?i.call(r,{name:"title",hash:{},data:l,loc:{start:{line:14,column:13},end:{line:14,column:22}}}):i)+c(typeof(i=null!=(i=u(t,"name")||(null!=n?u(n,"name"):n))?i:o)===s?i.call(r,{name:"name",hash:{},data:l,loc:{start:{line:14,column:22},end:{line:14,column:30}}}):i)+' poster" />\r\n</div>\r\n<div class="modal-section__meta">\r\n    <h2 class="modal-meta__title">'+c(typeof(i=null!=(i=u(t,"title")||(null!=n?u(n,"title"):n))?i:o)===s?i.call(r,{name:"title",hash:{},data:l,loc:{start:{line:17,column:34},end:{line:17,column:43}}}):i)+c(typeof(i=null!=(i=u(t,"name")||(null!=n?u(n,"name"):n))?i:o)===s?i.call(r,{name:"name",hash:{},data:l,loc:{start:{line:17,column:43},end:{line:17,column:51}}}):i)+'</h2>\r\n    <div class="modal-meta__info">\r\n        <ul class="modal-info__list">\r\n            <li>Vote / Votes</li>\r\n            <li>Popularity</li>\r\n            <li>Original Title</li>\r\n            <li>Genre</li>\r\n        </ul>\r\n        <ul class="modal-info__list">\r\n            <li><span>'+c(typeof(i=null!=(i=u(t,"vote_average")||(null!=n?u(n,"vote_average"):n))?i:o)===s?i.call(r,{name:"vote_average",hash:{},data:l,loc:{start:{line:26,column:22},end:{line:26,column:38}}}):i)+"</span>/<span>"+c(typeof(i=null!=(i=u(t,"vote_count")||(null!=n?u(n,"vote_count"):n))?i:o)===s?i.call(r,{name:"vote_count",hash:{},data:l,loc:{start:{line:26,column:52},end:{line:26,column:66}}}):i)+"</span></li>\r\n            <li>"+c(typeof(i=null!=(i=u(t,"popularity")||(null!=n?u(n,"popularity"):n))?i:o)===s?i.call(r,{name:"popularity",hash:{},data:l,loc:{start:{line:27,column:16},end:{line:27,column:30}}}):i)+"</li>\r\n            <li>"+c(typeof(i=null!=(i=u(t,"original_title")||(null!=n?u(n,"original_title"):n))?i:o)===s?i.call(r,{name:"original_title",hash:{},data:l,loc:{start:{line:28,column:16},end:{line:28,column:34}}}):i)+c(typeof(i=null!=(i=u(t,"original_name")||(null!=n?u(n,"original_name"):n))?i:o)===s?i.call(r,{name:"original_name",hash:{},data:l,loc:{start:{line:28,column:34},end:{line:28,column:51}}}):i)+"</li>\r\n            <li>"+c(typeof(i=null!=(i=u(t,"genre_ids")||(null!=n?u(n,"genre_ids"):n))?i:o)===s?i.call(r,{name:"genre_ids",hash:{},data:l,loc:{start:{line:29,column:16},end:{line:29,column:29}}}):i)+'</li>\r\n        </ul>\r\n    </div>\r\n    <h3 class="modal-meta__title description">About</h3>\r\n    <p class="modal-meta__text">'+c(typeof(i=null!=(i=u(t,"overview")||(null!=n?u(n,"overview"):n))?i:o)===s?i.call(r,{name:"overview",hash:{},data:l,loc:{start:{line:33,column:32},end:{line:33,column:44}}}):i)+'</p>\r\n    <div class="modal-meta__btn-wrap">\r\n        <button type="button">add to Watched</button>\r\n        <button type="button">add to queue</button>\r\n    </div>\r\n</div>\r\n'},compiler:[8,">= 4.3.0"],main:function(e,n,t,a,l){var i;return null!=(i=(e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]})(t,"each").call(null!=n?n:e.nullContext||{},n,{name:"each",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:1,column:0},end:{line:39,column:9}}}))?i:""},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.6b14326da697d0292ac9.js.map